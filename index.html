<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta name="theme-color" content="#CED3D3" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#CED3D3" media="(prefers-color-scheme: dark)"> -->

    <meta name="theme-color" content="#CDCDC4" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#CDCDC4" media="(prefers-color-scheme: dark)">
    <link rel="preload" href="/assets/edge_indicators/flag_icon-1.png" as="image">
    
    <!-- Add preloads for critical assets to speed up loading -->
    <link rel="preload" href="assets/postcard_motion.webm" as="video">
    <link rel="preload" href="assets/main_flag_motion.webm" as="video">
    <!-- Add more for other images/videos/fonts as needed -->

    <title>Dear Neighbors</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading screen: Shows immediately via CSS -->
    <div id="loader">
        <p>Loading...</p> <!-- Customize: Add spinner, logo, etc. -->
    </div>

    <div id="top-gradient"></div>
    <!-- Moved blur containers OUTSIDE #root to make them truly fixed to the viewport -->
    <div id="progressive-blur-top">
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
    </div> <!-- Progressive blur container -->
    
    <div id="progressive-blur">
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
        <div class="blur-layer"></div>
    </div> <!-- Progressive blur container -->

    <div id="root" class="hidden-until-loaded"> <!-- Add class to hide initially -->
        <div id="main-container">
            <div id="main-text">
                <div id="main-flag-container">
                    <video id="main-flag-video" preload="auto" autoplay loop muted playsinline>
                        <source src="assets/main_flag_motion.mov" type='video/quicktime'>
                        <source src="assets/main_flag_motion.webm" type='video/webm'>
                        Your browser does not support the video tag.
                    </video>
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                    <img src="assets/flag_modular_stem4.png" alt="Flag stem extension" class="stem-extension">
                </div>
                    <h1>Dear Neighbour,</h1>
                    <p class="regular-text">We're building a platform by the neighborhood, for the neighborhood – a modern home for our local life.</p>
                    <p class="gradient-text">We've created an "impressionist city" that captures how our surroundings feel, not just how they look. You'll discover events and places as "Flags" planted by creators. Find one that inspires you, go outside, and collect playful digital artifacts. These fragments of local culture build into your personal board of city memories: a more authentic way to show who you are and connect with others. <br><br> For those who shape our city — from museums and festivals to neighborhood initiatives — Flags gives you a living home on the map — a digital stage for your space and offerings. Without ads, reach people where they are, in the moments that matter, turning a passerby into a visitor, and a visitor into part of your community. <br><br> Our core innovation puts the city in your pocket. This means you can explore it offline on the U-Bahn and fly around even with low battery. We are equally committed to your privacy. We believe you should hold the keys to your local life, not us. <br><br> Claim your city. Your first flag awaits. <br><br> Warmly, <br> Paul, Boris, Joris and Chris</p>
            </div>
            <div class='signatures'>
                <img src="assets/signature_01.png" class="signature">
                <img src="assets/signature_02.png" class="signature">
                <img src="assets/signature_03.png" class="signature">
                <img src="assets/signature_04.png" class="signature">
            </div>
            <img id="bottom-house-image" src="assets/house_roof.png" alt="Bottom aligned image"> 
            <div class="edge-flag-container">
                <img class="edge-flag" id="edge-flag-1" src="assets/edge-flags/CircleFlag_orange_2.png" alt="Flag 1">
                <img class="edge-flag" id="edge-flag-2" src="assets/edge-flags/SquareFlag_blue_3.png" alt="Flag 2">
                <img class="edge-flag" id="edge-flag-3" src="assets/edge-flags/TriangleFlag_green_3.png" alt="Flag 3">
                <img class="edge-flag" id="edge-flag-4" src="assets/edge-flags/TriangleFlag_yellow.png" alt="Flag 4">
            </div>
        </div>


    </div>
    <div id="fade-overlay"></div>
            <!-- Replaced div with video; keep id="postcard" for scripting -->
    <video id="postcard" autoplay loop muted playsinline>
        <source src="assets/postcard_motion.mov" type='video/quicktime'>
        <source src="assets/postcard_motion.webm " type='video/webm'>

        Your browser does not support the video tag.
    </video>

    <!-- Inline script to handle loading screen (runs synchronously) -->
    <script>
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            const root = document.getElementById('root');
            loader.style.opacity = '0'; // Fade out
            setTimeout(() => {
                loader.style.display = 'none'; // Remove after transition
                if (root) root.classList.remove('hidden-until-loaded'); // Reveal content
            }, 300); // Match CSS transition duration
        });
    </script>

    <script type="module" src="script.js"></script>
</body>
</html>
